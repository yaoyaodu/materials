# 静态时序分析

[时序分析之STA(1) - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/140498220)

**静态时序分析**（**Static Timing Analysis, STA**），或称**静态时序验证**，是电子工程中，对**数字电路的时序**进行**计算、预计的工作流程**，该流程不需要通过输入激励的方式进行仿真。

### 简介

传统上，人们常常将**工作时钟频率**作为高性能的集成电路的特性之一。为了测试**电路在指定速率下运行的能力**，人们需要在设计过程中测量**电路在不同工作阶段的延迟**。

此外，在不同的设计阶段（例如逻辑综合、布局、布线以及一些后续阶段）**需要对时间优化程序内部进行延迟计算（Delay calculation）**。尽管可以通过严格的**SPICE电路仿真**来进行此类时间测量，但是这种方法在实用中耗费大量时间。

静态时序分析在**电路时序快速、准确的测量**中扮演了重要角色。静态时序分析能够更快速地完成任务，是因为它使用了简化的模型，而且它有限地考虑了信号之间的逻辑互动。静态时序分析在最近几十年中，成为了相关设计领域中的主要技术方法。

### 目的

在一个**同步数字系统**中，**数据的流动应当以一致的步伐进行，即时间脉冲信号每改变一次，数据能够改变一次**。这种运作方式是通过**同步的数字电路器件**，例如**触发器或锁存器**来实现的，这类器件**以时钟信号为指示将其输入端的数据复制到其输出端**。在同步电路中，只存在两种**时序错误**：

- 保持时间违例：时钟信号有效变化**之后**，如果**输入信号没能保持足够长的时间**，数据将不能在下一个时钟信号变化时被记录下来；
- 建立时间违例：时钟信号有效变化之前，如果输入信号没能保持足够长的时间，数据将不能在那个时钟信号变化时被记录下来。

**电路所需信号可能在不同的时间到来**，其原因可能是输入数据本身产生的时间不同，或是电路进行了不同的操作，器件温度和偏置电压不同，也可能是因为电路中不同部分的制造工艺不同。

采用硬件描述语言进行设计时，使用不同语言结构，例如if或者case来表示看似相同的功能，逻辑综合后硬件的时序很可能不同。

静态时序分析的主要目的是在**上述可能的电路偏移情况**存在的情况下，**验证所有信号能够准时到达**，并保证电路的正常功能。静态时序分析可以**检查电路中各条路径诸如毛刺、延迟路径和时钟偏移**等问题。 



微信读书

**电路的逻辑综合**包括三个步骤：**综合=转化+逻辑优化+映射**。

EDA工具使用指定的由半导体厂商提供的综合库进行综合，设计者通过时序约束来对设计提出一些特定的时序要求。

而STA就是提取综合库中包含的单元寄生参数来计算最终得到的电路是否满足设计者提出的要求。



**时序路径：一个节点到另一个节点的数据通路**。

它的起始点只能是**输入端口**或**时序单元的时钟端**，终止点是**输出端口**或**时序单元的数据端口**。

每条时序路径最多只能穿越一个时序单元。



STA通过穷举法**抽取整个设计电路的所有时序路径**，按照**约束条件**分析电路中是否有违反设计规则的问题。

主要是**检查建立时间 (setup time) 和保持时间 (hold time) 是否满足要求**。而他们又分别通过对**最大路径延迟**和**最小路径延迟**的分析得到。



