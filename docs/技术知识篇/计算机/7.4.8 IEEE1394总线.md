# IEEE 1394总线

#### 1.IEEE 1394总线的由来

IEEE 1394高性能串行总线由Apple公司于1993年首先提出，用以取代SCSI的高速串行总线Firewire。但是，直到1995年SONY公司推出的数码摄像机加上了IEEE 1394接口以后，才真正引起业界的广泛重视。1995年12月IEEE协会正式接纳它为工业标准，并在1997年和1998年由Microsoft，Intel和Compaq几家公司共同制定的PC97和PC98系统设计指南中规定，把USB，IEEE 1394作为外设的新接口标准加以推广。

#### 2.IEEE 1394总线的特点

① 传输速率高。IEEE 1394总线提供两类应用环境：电缆环境和底板环境，它不仅拓扑结构灵活而且传输速率高。
在底板环境下，TTL底板数据传输速率为24．576Mb/s，对于BTL和ECL底板则数据传输速率为49．152Mb/s。
在电缆环境下，数据传输速率有98．304Mb/s，196．608Mb/s和393．216Mb/s。

② 连接简单，使用方便。IEEE 1394标准的**接口信号线采用6芯电缆和6针插头**，其中：

● 两对信号线是TPA/TPA*和TPB/TPB*。

● 两根电源线是VP和VG。

为被连设备提供电源（4～10V，1．5A），支持**热插拔**。两个设备之间最多可相连16个电缆单位，每个电缆单位的单距达4．5m，最长可用电缆连接相距72m的设备。

③ 采用**对等结构（Peer to Peer）**。任何两个支持IEEE 1394总线的设备可以直接连接，不需要通过计算机控制。例如，在计算机关闭的情况下，仍可以将DVD播放机与数字电视机相连，直接播放DVD节目。总线采用公平仲裁和优先级相结合的总线访问方式，保证所有节点均有机会使用总线。

#### 3.IEEE 1394协议结构

IEEE 1394总线的重要特点是，指定了一组三层协议来标准化主机与外设，通过串行总线进行数据交互。三层协议包括物理层、链接层和交换层，串行总线管理将这三个层次连接起来，如图7．20所示。

IEEE 1394总线的设备地址为64位宽，其中高16位为串行总线的节点标志（Node-ID），这表明系统最多可有64K个节点。Node-ID又可分为两个更小的域，高10位为总线标志Bus-ID（能提供1023个总线地址），低6位标志物理节点Physical-ID。余下的248位在节点内部分别作为CSR（命令和状态寄存器）和一般存储空间。

图7.20 IEEE 1394协议三层结构


IEEE 1394支持**异步和同步（等时）**两种数据传输方式：

- **异步**方式**把数据交换层信息送到一个特定的地址（Explicit Address）**。
- **同步**方式**基于通道号来广播数据**，而不是基于特定地址来传输数据。

对同一接口提供异步和同步两种方式，既允许**非实时应用（如打印机、扫描仪等）**，又允许**实时应用（如视频和音频传输等）**。

#### 4．IEEE 1394总线工作过程

首先，IEEE 1394总线必须初始化，才能使用交换层来传送命令、数据和状态。当总线顺利完成初始化以后，每个节点都得到一个各不相同的节点标志Node-ID。

然后，启动设备读第一个节点的构造ROM来寻找实现串行总线协议SBP（Serial Bus Protocol）的节点。寻找结束后，SBP被初始化。接着开始同步或异步注册（Login）过程，注册完毕，就可以进行数据传输了。若传输过程中出现错误，则必须进行异常处理。

#### 5．IEEE 1394总线与USB总线的性能比较

IEEE 1394总线与USB总线的性能比较可见表7.6。

表7.6 IEEE 1394总线与USB总线性能比较表

**IEEE 1394总线是一种高速串行总线，它一开始就是面向高速外设的**。而**USB一开始是面向中低速外设的**，但是随着**USB 2.0的推出，使USB也可以连接高速外设**。目前，两种总线都在推广之中，但由于USB总线的价格优势，已展现出更广阔的发展前景。

