# 存储器

重点：

* 计算机中**所有程序的运行都是在内存**中进行的，因此**内存的性能对计算机的影响非常大**。

## 随机存储器（主存）

它主要用来**存放操作系统、各种应用程序、数据**等。是**与CPU直接交换数据**的内部存储器。它可以随时读写（刷新时除外），而且速度很快，通常作为**操作系统或其他正在运行中的程序的临时数据存储介质**。RAM工作时可以随时从任何一个指定的地址写入（存入）或读出（取出）信息。

**所谓“随机存取”，指的是当存储器中的数据被读取或写入时，所需要的时间与这段信息所在的位置或所写入的位置无关。**

相对的，读取或写入**顺序访问（Sequential Access）**存储设备中的信息时，其所需要的时间与位置就会有关系。

说明：**运行时操作系统和软件都位于内存中**，CPU按照调度执行代码。

​			**断电的时候他们都在磁盘中**。

​			**通电开机操作系统会加载进内存**，**运行软件会把软件加载进内存**。


PS：内存，是我们广为人知的一个普遍称呼，实际上它有个专业词语及用途：DRMA（动态随机存储器（Ｄynamic Random Access Memory））。主要用途是作为程序运行的存储空间（DRAM）和存储数据的空间（NAND）。



## 只读存储器

只读存储器的特点是只能读出而不能写入信息，通常在电脑主板的**ROM**里面固化一个基本输入/输出系统，称为**BIOS**（基本输入输出系统）。其主要作用是：

- **完成对系统的加电自检**
- **系统中各功能模块的初始化**
- 系统的**基本输入/输出的驱动程序**
- **引导操作系统**

从其制造工艺和功能上分，ROM有五种类型：

- MROM（Mask-programmed ROM）：掩膜编程的只读存储器
- PROM（Programmable ROM）：可编程的只读存储器
- EPROM（Erasable Programmable ROM）：可擦除可编程的只读存储器
- EEPROM（Electrically Erasable Programmable ROM）：可电擦除可编程的只读存储器 
- **Flash Memory：快擦除读写存储器**

![存储器类型](https://i.loli.net/2021/07/27/yKmYCIv5XEeOfqb.png)

## **高速缓冲存储器**

高速缓冲存储器的存取速度要比主存快，但是比CPU及其内部的寄存器要慢。高速缓冲存储器通常容量较小，且常被置于CPU和主存之间。

高速缓冲存储器在任何时间都含有主存中一部分内容的副本。当CPU要存取主存中的一个字时，将按以下步骤进行：

1. CPU首先检查高速缓存。

2. 如果要存取的字存在，CPU就将它复制。

   如果不存在，CPU将从主存中拷贝一份从需要读取的字开始的数据块。该数据块将覆盖高速缓存中的内容。

3. CPU存取高速缓冲存储器并拷贝改字。

高速缓冲存储器容量小，效率却很高，原因：80-20规则：通常计算机花费80%的时间来读取20%的数据。

换句话说，相同的数据往往被存取多次。**高速缓冲存储器，凭借其高速，可以存储这20%的数据而使存取至少快80%。**

## **ROM, Flash和RAM的区别**

对于RAM, ROM以及Flash的区别，简单地说，在计算机中，RAM 、ROM都是数据存储器。RAM 是随机存取存储器，它的特点是易挥发性，即掉电失忆。ROM 通常指固化存储器(一次写入，反复读取)，它的特点与RAM 相反。ROM又分一次性固化、光擦除和电擦除重写两种类型。

在应用中，常规上**ROM是用来存储固化程序的，RAM是用来存放数据的**。由于**Flash ROM比普通的ROM读写速度快，擦写方便，一般用来存储用户程序和需要永久保存的数据**。譬如说，现在家用的电子式电度表，它的内核是一款单片机，该单片机的程序就是存放在ROM里的。电度表在工作过程中，是要运算数据的，要采集电压和电流，并根据电压和电流计算出电度来。电压和电流时一个实时的数据，用户不关心，它只是用来计算电度用，计算完后该次采集的数据就用完了，然后再采集下一次，因此**这些值就没必要永久存储，就把它放在RAM里边。然而计算完的电度，是需要永久保存的，单片机会定时或者在停电的瞬间将电度数存入到Flash里。**

[ROM, FLASH和RAM的区别 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/38339306#:~:text=由于FLASH,ROM比普通的ROM读写速度快，擦写方便，一般用来存储用户程序和需要永久保存的数据。)



## 代表企业

![image-20210831231642704](https://i.loli.net/2021/08/31/LDWyqAjb9g2VoEH.png)

