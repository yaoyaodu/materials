# IP核

更详细信息参见：[科普：芯片行业所说的IP是个什么东西？-面包板社区 (eet-china.com)](https://www.eet-china.com/mp/a61226.html)

要点：

- 芯片行业中所说的IP，也称为IP核(Intellectual Property Core)。IP核是指芯片中**具有独立功能的电路模块的成熟设计**。

- 在电路模块设计的三个不同阶段，可以得到的不同类型的IP核，分别称为**IP软核、IP固核和IP硬核**。由软化到固化，再到硬化，IP核的可配置性和灵活性变小，但完善性提高，复用风险性降低。

- 一般说来，**一个复杂的芯片是由芯片设计者自主设计的电路部分和多个外购的IP核连接构成的**。芯片设计公司购买IP厂商的IP核，通过IP复用可以快速设计出功能复杂的芯片，可以节约设计时间，提高芯片设计成功率。

- IP开发和IP复用技术大大促进了芯片设计业的快速发展。

  

## IP核概念

芯片行业中所说的IP，一般也称为IP核。**IP核是指芯片中具有独立功能的电路模块的成熟设计。**该电路模块设计可以应用在包含该电路模块的其他芯片设计项目中，从而**减少设计工作量，缩短设计周期，提高芯片设计的成功率**。该电路模块的成熟设计凝聚着设计者的智慧，体现了设计者的知识产权，因此，芯片行业就用IP核 (Intellectual Property Core)来表示这种电路模块的成熟设计。IP核也可以理解为**芯片设计的中间构件**。

一般说来，**一个复杂的芯片是由芯片设计者自主设计的电路部分和多个外购的IP核连接构成的**。如下图所示，要设计这样结构的一款芯片，设计公司可以外购芯片中所有的IP核(不同颜色模块)，仅设计芯片中自己有创意的、自主设计的部分(用绿色表示)，并把各部分连接起来。

<figure align="center"><img src="https://i.loli.net/2021/08/25/6mvfD1IEKt3pea7.jpg"></img><figcaption>图 自主设计部分和多个IP核集成在一起，形成复杂芯片的设计</figcaption></figure>

上图的芯片设计过程就像下图的系统电路板开发过程一样，是**用已有的、成熟的IP核(或者芯片)进行布局、摆放和信号连接的过程，这种过程可以称为对IP核(或者芯片)的复用**。不同的是，系统电路板上除了芯片和连接线之外，系统开发者很少自主开发自己的芯片。而在芯片设计过程中，芯片上除了采用外购的IP核之外，一般说来，芯片设计者还要设计一部分自己的电路，并完成各部分之间的信号连线，最后还要对整个芯片的功能、性能进行制造前的反复检查和验证。

<figure align="center"><img src="https://i.loli.net/2021/08/25/28hma3FpedfP6bI.jpg"></img><figcaption>图 由IP核搭建复杂芯片，与用芯片搭建完整的系统电路板类似</figcaption></figure>

## IP作用

IP的作用主要有四个方面：

* 使芯片设计化繁为简，缩短芯片设计周期，提高复杂芯片设计的成功率。
* IP开发和IP复用技术使小公司设计大芯片成为可能。
* 使系统整机企业可以设计自己的芯片，提升自主创新能力和整机系统的自主知识产权含量。
* 使芯片设计行业摆脱传统IDM模式，成为产业链上独立的行业，促进了芯片设计业迅猛发展。

目前，许多中小微芯片设计公司虽然设计能力和水平有限，但出于抢占市场，缩短芯片设计周期的需要，会外购许多IP核来完成自己的芯片设计项目。业界的IP开发商、IP提供商数量不断增加，也变得越来越专业。各种功能、各种类型的IP核不断涌现。IP交易活动也日趋普遍，交易金额也越来越大。

说明：[IDM、Fabless 和 Foundry：半导体芯片行业的三种运作模式 (trantion.net)](https://www.trantion.net/h-nd-245.html)

IDM（Integrated Device Manufacture）模式主要的特点是**集芯片设计、芯片制造、芯片封装和测试等多个产业链环节于一身**。早期多数集成电路企业采用的模式，目前仅有极少数企业能够维持。代表企业：三星、德州仪器（TI）。

 主要的优势：设计、制造等环节协同优化，有助于充分发掘技术潜力；能有条件率先实验并推行新的半导体技术（如 FinFet）。

主要的劣势：公司规模庞大，管理成本较高；运营费用较高，资本回报率偏低。



## IP开发

IP核开发与芯片设计过程比较相似，都需要紧跟芯片技术的发展趋势，不断积累芯片设计技术，了解芯片制造工艺发展步伐。所不同的是：

* 芯片设计公司的商业模式是设计完整的芯片，并推向市场，实现芯片销售利润。

* IP开发商不设计完整的芯片，他们**只设计芯片局部的某些功能模块**，**追求这些功能模块(IP核)的设计是最优化的，并要实现IP核在多种复用场合的适应性、便利化**。

  IP开发商谋求这些IP可以被众多芯片设计公司购买采用，并实现IP的销售利润。

但是，**IP开发的技术难度和要求很高**，并不是任何芯片设计公司想为即可为的事情。这主要体现在：

* 一是**IP的完备性要求**。IP核作为芯片设计的构件，可以与**软件设计的构件(中间件)**作比较。软件构件中可以隐藏小瑕疵，集成后的系统软件还可以在投入实际应用时，通过打补丁升级的方式不断完善。**但IP核必须非常完善，一点瑕疵都不能有。**因为，IP核的任何小瑕疵都有可能影响到整个复杂芯片设计的成败，影响到花费了数百万元甚至上亿元整个芯片研发的投入产出。因此，复杂IP核的售价极为昂贵，从数十万元到上百万元不等。为了便于推广，IP厂商一般采用收取前期**IP许可费(IP License)**+后期按芯片出货量计算的**版权费(Royalty)**的商业模式，以降低用户的研发投入。
* 二是**IP的多参数需求**，包括工艺节点、电源、功耗、性能等。这些都要求IP开发者对芯片设计、制造工艺和行业应用等非常熟悉。
* 三是**用户对IP提供商的信誉度要求，包括公司技术实力、影响力和稳定度等**。用户很难接受一家规模较小，发展不稳定的IP厂商提供的IP，哪怕这些IP很便宜，甚至免费。用户宁愿购买著名的、大的IP厂商提供的较贵的IP，因为这样的IP才有质量保障和后续服务的保障。

2000年以来，在国发18号文件和八个国家级IC设计产业化基地的促进下，国内IC设计企业如雨后春笋般涌现，并得到快速发展。这些企业大部分是中小微IC设计企业，**得益于IP开发和IP复用技术，这些中小IC设计企业都可以根据市场需要，及时开发出各种功能的系统级芯片(SOC)、人工智能(AI)芯片、物联网(IoT)芯片等。**这些推动了国内IC设计业的高速发展，带动了我国新一代信息技术产业的发展。可以说，**晶圆代工技术、IP开发和IP复用技术成就了我国目前芯片产业的快速发展基础。**

 

