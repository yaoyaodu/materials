# GPU

## GPU概念

GPU 最初是为了更好的做图形处理而专门设计的**微处理器**。GPU 的全称是Graphics Processing Unit，图形处理单元。它最初的功能主要用于绘制图像和处理图元数据的特定芯片，后来增加了许多其他功能。
**GPU 是显卡最核心的部件**。显卡（显示接口卡），负责把CPU（Central Processing Unit，中央处理器）送来的影像数据（显示信号）处理成显示器可以认知的格式（一般电器信号），再送到显示屏上形成影像。**GPU 就是显卡的核心，决定如何处理屏幕上的每个像素点**。**显卡里除了GPU 外，还有散热器、通讯元件、与主板和显示器连接的各类插槽。**





## GPU 的工作原理

GPU 将3D 图形映射到相应的像素点上，对每个像素进行计算，确定最终颜色并完成输出。其中工作内容包括：

1）顶点处理，GPU 读取描述3D 图形外观的顶点数据，并根据顶点数据确定3D 图形的形状及位置，建立3D 图形骨架。

2）光栅化，显示器实际显示的图像是由像素点组成的。把一个矢量图形转换为一系列像素点的过程就称为光
栅化。例如，把一条线段转化为阶梯状的连续像素点。

3）纹理贴图，顶点单元生成的多边形只构成了3D 物体的外轮廓，纹理贴图将多边形的表面贴上相应的图片，从而生成
完整的3D 图形。

4）最终输出，由ROP（光栅化引擎）最终完成像素的输出，1 帧图像渲染完毕后，被送到显存帧缓冲区。

GPU 比CPU 擅长并行计算。正如上段所说，一个3D 图形最终会被分解为许多个像素点来计算，如果要渲染速度快，这就要求GPU 的硬件结构是满足同时进行大量的简单计算的，这个需求导致了GPU 与CPU 的硬件架构不同。从芯片设计思路看，CPU是以低延迟为导向的计算单元，通常由专为串行处理而优化的几个核心组成，而GPU 是以吞吐量为导向的计算单元，由数以千计的更小、更高效的核心组成，专为并行多任务设计。微架构的不同最终导致CPU 中大部分的晶体管用于构建控制电路和缓存，只有少部分的晶体管完成实际的运算工作，功能模块很多，擅长分支预测等复杂操作。GPU的流处理器（承担简单计算任务）和显存控制器占据了绝大部分晶体管，而控制器相对简单，擅长对大量数据进行简单操作，拥有远胜于CPU 的强大浮点计算能力，从而更擅长并行计算，比如图像处理计算，物理仿真，深度学习等。







