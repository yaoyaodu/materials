# 存储器

##### 随机存储器（主存）

它主要用来**存放操作系统、各种应用程序、数据**等。是与CPU直接交换数据的内部存储器。它可以随时读写（刷新时除外），而且速度很快，通常作为**操作系统或其他正在运行中的程序的临时数据存储介质**。RAM工作时可以随时从任何一个指定的地址写入（存入）或读出（取出）信息。

所谓“随机存取”，指的是当存储器中的数据被读取或写入时，所需要的时间与这段信息所在的位置或所写入的位置无关。

相对的，读取或写入顺序访问（Sequential Access）存储设备中的信息时，其所需要的时间与位置就会有关系。

说明：**运行时操作系统和软件都位于内存中**，CPU按照调度执行代码。

​			**断电的时候他们都在磁盘中**。

​			**通电开机操作系统会加载进内存**，运行软件会把软件加载进内存。

##### 只读存储器

只读存储器的特点是只能读出而不能写入信息，通常在电脑主板的**ROM**里面固化一个基本输入/输出系统，称为**BIOS**（基本输入输出系统）。其主要作用是：

- **完成对系统的加电自检**
- **系统中各功能模块的初始化**
- 系统的**基本输入/输出的驱动程序**
- **引导操作系统**

从其制造工艺和功能上分，ROM有五种类型：

- MROM（Mask-programmed ROM）：掩膜编程的只读存储器
- PROM（Programmable ROM）：可编程的只读存储器
- EPROM（Erasable Programmable ROM）：可擦除可编程的只读存储器
- EEPROM（Electrically Erasable Programmable ROM）：可电擦除可编程的只读存储器 
- **Flash Memory：快擦除读写存储器**

![存储器类型](https://i.loli.net/2021/07/27/yKmYCIv5XEeOfqb.png)

**高速缓冲存储器**

高速缓冲存储器的存取速度要比主存快，但是比CPU及其内部的寄存器要慢。高速缓冲存储器通常容量较小，且常被置于CPU和主存之间。

高速缓冲存储器在任何时间都含有主存中一部分内容的副本。当CPU要存取主存中的一个字时，将按以下步骤进行：

1. CPU首先检查高速缓存。

2. 如果要存取的字存在，CPU就将它复制。

   如果不存在，CPU将从主存中拷贝一份从需要读取的字开始的数据块。该数据块将覆盖高速缓存中的内容。

3. CPU存取高速缓冲存储器并拷贝改字。

高速缓冲存储器容量小，效率却很高，原因：80-20规则：通常计算机花费80%的时间来读取20%的数据。

换句话说，相同的数据往往被存取多次。**高速缓冲存储器，凭借其高速，可以存储这20%的数据而使存取至少快80%。**

