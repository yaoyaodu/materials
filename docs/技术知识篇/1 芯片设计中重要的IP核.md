# 芯片设计中重要的IP核

来源：[芯片设计中重要的IP核 - 21ic电子网](https://www.21ic.com/article/874712.html)

芯片设计和制造流程简单来说可以分四个阶段：

* 功能/性能定义(**需求分析**)
* IC设计(集成电路设计)
* IC制造(光刻机部分)
* 封装测试



![img](https://i.loli.net/2021/09/03/ye6a9itj5uNoWJP.jpg)

## 芯片功能、性能的定义

1. **在做设计芯片之前要先定位，这个芯片是用来干什么的，它要性能指标要达到什么样的要求。**比如，厂家要出一个处理器芯片，最简单的一点就要**先确定这是一个多少位的CPU，多少核的**。比如咱们买电脑的时候，经常看到电脑搭载的是英特尔64位四核处理器。那么这个芯片在出厂之前，英特尔就定好了，它是64位的，里面有四个核心。

* **64位是采用64位处理技术的CPU**，简单理解就是**处理器一次运行64 bit数据，这个数字越大说明单次可以运行的数据越多，处理速度越快**。

* **四核处理器**就是基于单个半导体的一个处理器上拥有四个处理器核心。并且四个核心的处理能力和功能是一样，可以同时运行，所以业界将这样的处理器称为真四核。

2. 还需要**定义该芯片的其他的一些属性，比如I/O驱动能力、功耗、工作温度**等等。



## IC设计需要EDA软件和IP核

如果这里翻车，也就没光刻机什么事了，这步骤包含的内容非常之多，比如**系统设计、算法设计、行为级描述/优化、逻辑综合/优化、仿真、测试、制版数据生成**等等。

这里的IP全称是Intellectual property，也就是知识产权。这些IP核心就是**别人做好的模块，可以在设计中直接使用。**软银集团欲出售的**ARM公司就是该环节的头号玩家**，据悉**全球90%的智能手机的处理器都是用ARM的IP授权，苹果、高通、华为海思、三星都是其客户。**

IP核也有三种不同程度的设计：软核，固核，硬核。

- 软核，以**加密源代码**的形式提供;简单理解就是提供代码给你，你还可以根据自研芯片的情况来调整和优化，灵活性高，对芯片厂商的技术要求较高。
- 固核，介于软核和硬核之间的一种核。以门级网表提供，除了完成软核所有的设计外，还完成**门级电路综合和时序仿真**等设计环节。比如它完成了描述功能中一些比较关键的路径进行预先的布局布线，而其他部分仍然可以任由编译器进行相关优化处理。
- 硬核，**完整后端设计的掩模**了，可理解为成品，拿去就可以用。相当于厂商跟你把需求完整分析后交付的，将该考虑的全考虑进去了，可靠性很高，但是灵活性就低了。

通常芯片设计公司会根据自身的业务，以及IP核的特性，购买不同的形态IP，用在自己的芯片设计中。IP核主要就是方便了设计的重用性，使得通用模块可以被重复用，省时、省力。

![img](https://i.loli.net/2021/09/03/eSD3OTJnvs78MNy.jpg)

芯片设计公司自己设计IP核，需要面对：

1、专利保护，能否绕开现有IP授权公司专利。

2、巨大投入，人力、物力、时间。

3、够不够打，做出来了，能不能与竞争对手对抗。

4、容错率低，一旦设计不当，满盘皆输。

**华为海思采购的是IP就是ARM公司授权的v8架构，华为在其基础上再进行芯片设计。如果没有ARM授权，不会在这么短的时间内出现如此优秀的华为海思麒麟处理器。**

在5G时代，新应用、新产品将会层出不穷，需求多且更加个性化，要求芯片厂商以更快的速度推动新产品上市。

现今的芯片厂商都在开发**5G SoC(系统芯片)**，以便快速适应5G技术，并将产品及时投放到市场。因此厂商需要考虑采用新工艺的芯片成本、功耗、温度、算力多少，能否快速上市等问题，而**IP核的强大之处就在于这些它都帮你验证好了**。

系统SOC结构是一种实现复杂系统功能的超大规模集成电路，大家可以看到里面包含有大量的IP核，功能越复杂，对IP核的依赖就越多。

![img](https://i.loli.net/2021/09/03/ivB6sj1U9IoL3Z2.jpg)

ARM的IP核授权，让很多芯片设计公司省去了很多事，该验证的环节、该考虑的因素，ARM可以全部解决。公司的产品可以快速上市，占领市场先机。另外，**ARM是一家纯粹的IP授权公司，以IP授权为核心的无晶圆半导体公司，即只做IP授权，其他一概不涉及。**所以ARM联合创始人发言称，若ARM被芯片厂商英伟达收购，则对ARM来说是个灾难。

![img](https://i.loli.net/2021/09/03/auO8NYSrFR3qD7o.jpg)





## 国产IP核之路任重道远

有着**“中国半导体IP之王”的芯原微电子**，成立至今已有19年，虽然其2019年在同类公司中排名第七，但是其短板也非常明显。

1、**不具备CPU类的IP**，拥有图形处理器(GPU)、神经网络处理器(NPU)、视频处理器(NPU)、数字信号处理器(DSP)和图像信号处理器(ISP)五类处理器IP，以及 1400 多个数模混合IP 和射频IP。

2、在嵌入式非挥发性存储器、内存编译器等 IP 方面也没有储备。

3、**大部分IP是通过外部并购而来，并非自主研发，说明自研方面的技术储备不够。**

但是，芯原所积累的经验非常宝贵，因为它知道哪些IP是目前没有办法介入，半导体哪些领域的IP值得去投入，这样就可以少走很多弯路。比如芯原在这么多年的积累就指出，**RISC-V (RISC-FIVE)将会是中国芯片产业的全新机遇，RISC-V 是第五代基于 RISC(精简指令集计算机)的指令集架构，因具备自由开放、成本低、功耗低等方面的优势，受到全球广泛关注。**

在**2019国际芯片大会(Chips 2019)**上，中国工程院院士倪光南在展望开源芯片前景时曾表示：**“RISC-V很可能发展成为世界主流CPU之一，在CPU领域形成英特尔、ARM、RISC-V三分天下的格局。**”

在5G这个万物互联的时代，**RISC-V的轻量级，灵活性**，更符合物联网应用的碎片化特性。**国内目前围绕RISC-V 架构开发和使用的企业已有上百家企业。比如华为海思、阿里的平头哥、中天微，兆易创新、华米科技、嘉楠科技、北京君正以及获得小米投资的芯来科技。**

**RISC-V 俨然为中国提供了在 X86 与 ARM 架构之外的第三条自主化路径**。英特尔靠X86在PC时代叱咤风云，ARM靠RISC在移动互联网时代处于浪潮之巅，当今，只有牢牢把握IP核才能引领5G和物联网时代。

